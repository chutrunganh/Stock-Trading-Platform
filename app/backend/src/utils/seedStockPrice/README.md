# THIS IS THE UTILS FOLDER

This folder contains all the utility functions that helps the software.
In this case the first function is a python function, that use `Alpha Vantage` api to fetch the stock price data with the input is stock symbol, such as `AAPL`. This function will access to the database and insert directly to the `stockprices` table.

For more details, look up to [Apha Vantage](https://www.alphavantage.co/documentation/)

# Notes !!!!: this function is only use in development phase, used to get some past stock price datas from real world, when in production, the price will be generated by the methods we mentioned in docs/priceSimulationOptions.

Before coming to production (get the database online somewhere) we will use this function to add some real stock prices value, in order to plot/draw some finacial related charts.
And also create an initial state for the app to begin.


app\backend\src\utils\seedStockPrice


Run the script

```shell
python -m venv venv
.\venv\Scripts\activate.bat # If execute in CMD
# .\venv\Scripts\activate.ps1 # If execute in PowerShell

# Install pip tool if you haven't already
python -m ensurepip --upgrade
pip install --upgrade pip setuptools wheel

# Install all required dependencies 
pip install -r requirements.txt
```

Functionality
```bash
cd app/backend/src/utils #move to this folder
pip install -r requirements.txt #install the needed library
#There will be some default methods can be use:
#Fetch data for Apple for the past 30 days (default range)
python stock_fetcher.py AAPL

#Fetch data for Google with custom date range
python stock_fetcher.py GOOGL --start 2023-01-01 --end 2023-12-31

#If the stock is already exist in the database:
python stock_fetcher.py AAPL --update-info
```


## stockManager.js
This file is use to automatically fetch all the stock and its stock prices, given the `stock symbol` and related information like `start_date`, `end_date`.

### How to run: 
```bash
cd app/backend
node src/utils/stockManager.js 
```
Notices that this file will access to the database. 

It will require you to enter the stock symbol, such as AAPL. If the stock is already exist in the database, it will ask for permisson to update the stock's information and also fetch its prices.

The value range will be for 30 days by default, you can modified it yourself by enter the specific start date and end date.

If the stock does not exist in the database, it will add the stock and the prices.

//